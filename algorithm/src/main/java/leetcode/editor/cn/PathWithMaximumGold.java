//ä½ è¦å¼€å‘ä¸€åº§é‡‘çŸ¿ï¼Œåœ°è´¨å‹˜æµ‹å­¦å®¶å·²ç»æ¢æ˜äº†è¿™åº§é‡‘çŸ¿ä¸­çš„èµ„æºåˆ†å¸ƒï¼Œå¹¶ç”¨å¤§å°ä¸º m * n çš„ç½‘æ ¼ grid è¿›è¡Œäº†æ ‡æ³¨ã€‚æ¯ä¸ªå•å…ƒæ ¼ä¸­çš„æ•´æ•°å°±è¡¨ç¤ºè¿™ä¸€å•å…ƒæ ¼ä¸­çš„é»„
//é‡‘æ•°é‡ï¼›å¦‚æœè¯¥å•å…ƒæ ¼æ˜¯ç©ºçš„ï¼Œé‚£ä¹ˆå°±æ˜¯ 0ã€‚
//
// ä¸ºäº†ä½¿æ”¶ç›Šæœ€å¤§åŒ–ï¼ŒçŸ¿å·¥éœ€è¦æŒ‰ä»¥ä¸‹è§„åˆ™æ¥å¼€é‡‡é»„é‡‘ï¼š
//
//
// æ¯å½“çŸ¿å·¥è¿›å…¥ä¸€ä¸ªå•å…ƒï¼Œå°±ä¼šæ”¶é›†è¯¥å•å…ƒæ ¼ä¸­çš„æ‰€æœ‰é»„é‡‘ã€‚
// çŸ¿å·¥æ¯æ¬¡å¯ä»¥ä»å½“å‰ä½ç½®å‘ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘èµ°ã€‚
// æ¯ä¸ªå•å…ƒæ ¼åªèƒ½è¢«å¼€é‡‡ï¼ˆè¿›å…¥ï¼‰ä¸€æ¬¡ã€‚
// ä¸å¾—å¼€é‡‡ï¼ˆè¿›å…¥ï¼‰é»„é‡‘æ•°ç›®ä¸º 0 çš„å•å…ƒæ ¼ã€‚
// çŸ¿å·¥å¯ä»¥ä»ç½‘æ ¼ä¸­ ä»»æ„ä¸€ä¸ª æœ‰é»„é‡‘çš„å•å…ƒæ ¼å‡ºå‘æˆ–è€…æ˜¯åœæ­¢ã€‚
//
//
//
//
// ç¤ºä¾‹ 1ï¼š
//
// è¾“å…¥ï¼šgrid = [[0,6,0],[5,8,7],[0,9,0]]
//è¾“å‡ºï¼š24
//è§£é‡Šï¼š
//[[0,6,0],
// [5,8,7],
// [0,9,0]]
//ä¸€ç§æ”¶é›†æœ€å¤šé»„é‡‘çš„è·¯çº¿æ˜¯ï¼š9 -> 8 -> 7ã€‚
//
//
// ç¤ºä¾‹ 2ï¼š
//
// è¾“å…¥ï¼šgrid = [[1,0,7],[2,0,6],[3,4,5],[0,3,0],[9,0,20]]
//è¾“å‡ºï¼š28
//è§£é‡Šï¼š
//[[1,0,7],
// [2,0,6],
// [3,4,5],
// [0,3,0],
// [9,0,20]]
//ä¸€ç§æ”¶é›†æœ€å¤šé»„é‡‘çš„è·¯çº¿æ˜¯ï¼š1 -> 2 -> 3 -> 4 -> 5 -> 6 -> 7ã€‚
//
//
//
//
// æç¤ºï¼š
//
//
// 1 <= grid.length, grid[i].length <= 15
// 0 <= grid[i][j] <= 100
// æœ€å¤š 25 ä¸ªå•å…ƒæ ¼ä¸­æœ‰é»„é‡‘ã€‚
//
// Related Topics æ•°ç»„ å›æº¯ çŸ©é˜µ ğŸ‘ 116 ğŸ‘ 0


package leetcode.editor.cn;

public class PathWithMaximumGold {

  public static void main(String[] args) {
    Solution solution = new PathWithMaximumGold().new Solution();
  }

  //leetcode submit region begin(Prohibit modification and deletion)
  class Solution {

    public int getMaximumGold(int[][] grid) {
      if (grid == null || grid.length == 0) {
        return 0;
      }
      int res = 0;
      for (int i = 0; i < grid.length; i++) {
        for (int j = 0; j < grid[0].length; j++) {
          //å‡½æ•°dfsæ˜¯ä»¥åæ ‡(i,j)ä¸ºèµ·ç‚¹ï¼ŒæŸ¥æ‰¾æœ€å¤§è·¯å¾„å€¼
          res = Math.max(res, dfs(grid, i, j));
        }
      }
      return res;

    }

    private int dfs(int[][] grid, int i, int j) {
      if (i < 0 || i >= grid.length || j < 0 || j >= grid[0].length || grid[i][j] == 0) {
        return 0;
      }
      //å…ˆæŠŠå½“å‰åæ ‡çš„å€¼ä¿å­˜ä¸‹æ¥ï¼Œæœ€åå†è¿˜åŸ
      int temp = grid[i][j];
      //å½“å‰åæ ‡å·²ç»è®¿é—®è¿‡äº†ï¼Œè¦æŠŠä»–æ ‡è®°ä¸º0ï¼Œé˜²æ­¢å†æ¬¡è®¿é—®
      grid[i][j] = 0;
      //ç„¶åæ²¿ç€å½“å‰åæ ‡çš„ä¸Šä¸‹å·¦å³4ä¸ªæ–¹å‘æŸ¥æ‰¾
      int up = dfs(grid, i, j - 1);
      int down = dfs(grid, i, j + 1);
      int left = dfs(grid, i - 1, j);
      int right = dfs(grid, i + 1, j);
      //è¿™é‡Œåªè¦4ä¸ªæ–¹å‘çš„æœ€å¤§å€¼å³å¯
      int max = Math.max(left, Math.max(right, Math.max(up, down)));
      //ç„¶åå†æŠŠå½“å‰ä½ç½®çš„å€¼è¿˜åŸ
      grid[i][j] = temp;
      //è¿”å›æœ€å¤§è·¯å¾„å€¼
      return grid[i][j] + max;
    }
  }


  //leetcode submit region end(Prohibit modification and deletion)

}
